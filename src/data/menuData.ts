import type { MenuItem } from '@/types';

// メニューカテゴリの型定義
export type MenuCategory = 'drink' | 'food' | 'sweet';

export const MENU_DATA: MenuItem[] = [
  // ===== 初期解放メニュー =====
  {
    id: 'coffee',
    name: 'ブレンドコーヒー',
    category: 'drink',
    cost: 30,
    price: 150,
    developCost: 0,
    attractsIkemen: ['kagerou', 'shion'],
    unlocked: true,
    description: '香り高い定番コーヒー。どんな時間帯にも人気。',
  },
  {
    id: 'tea',
    name: '紅茶',
    category: 'drink',
    cost: 25,
    price: 130,
    developCost: 0,
    attractsIkemen: ['lucia'],
    unlocked: true,
    description: '上品な香りの紅茶。優雅なひとときに。',
  },
  {
    id: 'orange_juice',
    name: 'オレンジジュース',
    category: 'drink',
    cost: 40,
    price: 180,
    developCost: 0,
    attractsIkemen: ['haruto'],
    unlocked: true,
    description: '搾りたてフレッシュなオレンジジュース。',
  },
  {
    id: 'sandwich',
    name: 'ミックスサンド',
    category: 'food',
    cost: 80,
    price: 280,
    developCost: 0,
    attractsIkemen: ['haruto'],
    unlocked: true,
    description: '定番の具材をたっぷり挟んだサンドイッチ。',
  },
  {
    id: 'cookie',
    name: 'クッキーセット',
    category: 'sweet',
    cost: 50,
    price: 200,
    developCost: 0,
    attractsIkemen: [],
    unlocked: true,
    description: 'サクサクの手作りクッキー。コーヒーのお供に。',
  },

  // ===== 開発可能メニュー =====
  {
    id: 'black_coffee',
    name: 'ブラックコーヒー',
    category: 'drink',
    cost: 35,
    price: 180,
    developCost: 1000,
    attractsIkemen: ['kagerou'],
    unlocked: false,
    unlockCondition: { type: 'default' },
    description: '深煎りの苦みが効いた本格派。',
    flavorText: 'クールなあの人が好みそう...',
  },
  {
    id: 'herb_tea',
    name: 'ハーブティー',
    category: 'drink',
    cost: 35,
    price: 200,
    developCost: 1500,
    attractsIkemen: ['mizuki'],
    unlocked: false,
    unlockCondition: { type: 'default' },
    description: '心身を癒すリラックスブレンド。',
    flavorText: '癒し系のあの人にピッタリかも...',
  },
  {
    id: 'hot_cocoa',
    name: 'ホットココア',
    category: 'drink',
    cost: 45,
    price: 220,
    developCost: 1200,
    attractsIkemen: ['ren'],
    unlocked: false,
    unlockCondition: { type: 'default' },
    description: '濃厚でクリーミーなココア。',
    flavorText: '素直になれないあの人も、これなら...',
  },
  {
    id: 'shortcake',
    name: 'ショートケーキ',
    category: 'sweet',
    cost: 150,
    price: 400,
    developCost: 2000,
    attractsIkemen: ['yukito'],
    unlocked: false,
    unlockCondition: { type: 'default' },
    description: 'ふわふわスポンジと甘いイチゴの王道ケーキ。',
    flavorText: '甘いもの好きのユキトさんが喜びそう...',
  },
  {
    id: 'spicy_chicken',
    name: 'スパイシーチキンサンド',
    category: 'food',
    cost: 180,
    price: 450,
    developCost: 2500,
    attractsIkemen: ['ren'],
    unlocked: false,
    unlockCondition: { type: 'default' },
    description: 'ピリッと刺激的な味わい。',
    flavorText: 'ツンデレなあの人の心も開けるかも？',
  },
  {
    id: 'scone',
    name: 'スコーン',
    category: 'sweet',
    cost: 60,
    price: 250,
    developCost: 1500,
    attractsIkemen: ['lucia'],
    unlocked: false,
    unlockCondition: { type: 'default' },
    description: 'イギリス風の焼き菓子。紅茶との相性抜群。',
    flavorText: 'ルシア様のティータイムにぴったり...',
  },
  {
    id: 'meat_sandwich',
    name: 'ボリュームサンド',
    category: 'food',
    cost: 200,
    price: 500,
    developCost: 2000,
    attractsIkemen: ['soma', 'riku'],
    unlocked: false,
    unlockCondition: { type: 'rank', rank: 'D' },
    description: 'たっぷりお肉の大満足サンド。',
    flavorText: '体育会系のお客様に人気間違いなし！',
  },
  {
    id: 'energy_drink',
    name: 'エナジードリンク',
    category: 'drink',
    cost: 100,
    price: 350,
    developCost: 3000,
    attractsIkemen: ['soma'],
    unlocked: false,
    unlockCondition: { type: 'rank', rank: 'D' },
    description: 'パワー全開！元気が出るドリンク。',
    flavorText: 'ソウマさんが気に入りそう...',
  },
  {
    id: 'fruit_tart',
    name: 'フルーツタルト',
    category: 'sweet',
    cost: 180,
    price: 480,
    developCost: 3000,
    attractsIkemen: ['mizuki'],
    unlocked: false,
    unlockCondition: { type: 'rank', rank: 'C' },
    description: '季節のフルーツをふんだんに使用。',
    flavorText: 'ミズキさんの好みを研究した成果...',
  },
  {
    id: 'seasonal_parfait',
    name: '季節のパルフェ',
    category: 'sweet',
    cost: 250,
    price: 650,
    developCost: 5000,
    attractsIkemen: ['aoi', 'yukito'],
    unlocked: false,
    unlockCondition: { type: 'rank', rank: 'B' },
    description: '季節のフルーツをふんだんに使用した豪華パフェ。',
    flavorText: 'ミステリアスなあの人の好物らしい...',
  },
  {
    id: 'cheesecake',
    name: 'レアチーズケーキ',
    category: 'sweet',
    cost: 160,
    price: 420,
    developCost: 2500,
    attractsIkemen: ['shion'],
    unlocked: false,
    unlockCondition: { type: 'rank', rank: 'C' },
    description: '濃厚でなめらかなレアチーズケーキ。',
    flavorText: '読書のお供に最適...',
  },
  {
    id: 'milk_tea',
    name: 'ミルクティー',
    category: 'drink',
    cost: 40,
    price: 200,
    developCost: 1000,
    attractsIkemen: ['yukito', 'lucia'],
    unlocked: false,
    unlockCondition: { type: 'default' },
    description: 'まろやかで優しい味わい。',
  },
  {
    id: 'espresso',
    name: 'エスプレッソ',
    category: 'drink',
    cost: 40,
    price: 200,
    developCost: 2000,
    attractsIkemen: ['kagerou'],
    unlocked: false,
    unlockCondition: { type: 'rank', rank: 'E' },
    description: '本格的な濃厚エスプレッソ。',
    flavorText: 'カゲロウさん専用メニュー？',
  },
  {
    id: 'parfait',
    name: 'チョコパフェ',
    category: 'sweet',
    cost: 200,
    price: 550,
    developCost: 3500,
    attractsIkemen: ['yukito'],
    unlocked: false,
    unlockCondition: { type: 'rank', rank: 'C' },
    description: 'チョコレートたっぷりの贅沢パフェ。',
    flavorText: 'ユキトさんの甘いもの好きは筋金入り...',
  },
];

// カテゴリ別にメニューを取得
export function getMenusByCategory(category: MenuItem['category']): MenuItem[] {
  return MENU_DATA.filter(menu => menu.category === category);
}

// 解放済みメニューを取得
export function getUnlockedMenus(): MenuItem[] {
  return MENU_DATA.filter(menu => menu.unlocked);
}

// 開発可能メニューを取得
export function getDevelopableMenus(): MenuItem[] {
  return MENU_DATA.filter(menu => !menu.unlocked && menu.developCost > 0);
}

// イケメンが好むメニューを取得
export function getMenusForIkemen(ikemenId: string): MenuItem[] {
  return MENU_DATA.filter(menu => menu.attractsIkemen.includes(ikemenId));
}
